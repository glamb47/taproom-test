<style>
    .mega-menu {
        position: fixed;
        top: 131px;
        width: 1480px;
        height: 245px;
        transform: translate(-50%);
        left: 50%;
        background-color: #FFFFFF;
        display: flex;
        justify-content: space-around;
        visibility: hidden;
        opacity: 0;
        transition: left 0.2s ease-in-out;
        z-index: 99;
        box-shadow: 0px 1px 0px #E6E9ED, -1px 0px 0px #E6E9ED, 1px 0px 0px #E6E9ED, 0px -1px 0px #E6E9ED;
        border-radius: 0px 0px 2px 2px;
        transition: all 0.3s ease-in-out;
    }

    .mega-menu.active {
        visibility: visible;
        opacity: 1;
    }

    .mega-menu__image-container {
        position: relative;
        align-self: center;
        bottom: 0;
    }
    .mega-menu__button {
        position: absolute;
        top: 50%;
        left: 50%;
        transform:translate(-50%, -50%);
        border-radius: 2px;
        padding: 15px;
        background-color: #29333F;
        color: #FFFFFF;
        border: none;
    }

    .mega-menu__list {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
    }

    .mega-menu__list-title {
        font-family: Montserrat;
        font-style: normal;
        font-weight: 500;
        font-size: 19px;
        line-height: 24px;
        color: #29333F;
        margin: 0;
    }

    .mega-menu__list-link {
        font-family: Montserrat;
        font-style: normal;
        font-weight: 500;
        font-size: 14px;
        line-height: 20px;
        color: #565E68;
        text-decoration: none;
    }

    .mega-menu__list-item:hover {
        transform: scale(1.2);
    }

    .mega-menu__close {
      display: none;
    }

    @media only screen and (max-width : 1359px) {

      .mega-menu {
        width: 100vw;
        flex-wrap: wrap;
        height: calc(100vh - 65px);
        top: 65px;
        padding-top: 20px;
        z-index: 999;
        left: 0;
        transform: translate(-100%);
      }

      .mega-menu.active {
        transform: translate(0%);
      }

      .mega-menu__list {
        width: 160px;
        max-height: 300px;
      }

      .mega-menu__image-container {
        bottom: 180px;
      }

      .mega-menu__close {
        display: block;
        position: absolute;
        top: 5px;
        right: 0;
        width: 50px;
      }

      .mega-menu__close > svg {
        width: 100%;
        height: 100%;
      }

    }

    @media only screen and (max-width : 884px) {
      .mega-menu__image-container {
        bottom: 0;
      }
    }

    @media only screen and (max-width : 375px) {

      .mega-menu__list {
        width: auto;
      }

      .mega-menu__image-container > img {
        display: none;
      }

      .mega-menu__button {
        position: relative;
        top: 0;
        left: 0;
        transform: translate(0, 0);
      }

    }
</style>

<div id="mega-menu" class="mega-menu">

    <ul class="mega-menu__list">
    <li><h4 class="mega-menu__list-title">{{ linklists[settings.menu-one].title }}</h4></li>
    {% for link in linklists[settings.menu-one].links %}
          <li class="mega-menu__list-item">
            <a class="mega-menu__list-link" href="{{ link.url }}">
              {{ link.title }}
            </a>
          </li>
    {% endfor %}
    </ul>

    <ul class="mega-menu__list">
    <li><h4 class="mega-menu__list-title">{{ linklists[settings.menu-two].title }}</h4></li>
    {% for link in linklists[settings.menu-two].links %}
          <li class="mega-menu__list-item">
            <a class="mega-menu__list-link" href="{{ link.url }}">
              {{ link.title }}
            </a>
          </li>
    {% endfor %}
    </ul>

    <ul class="mega-menu__list">
    <li><h4 class="mega-menu__list-title">{{ linklists[settings.menu-three].title }}</h4></li>
    {% for link in linklists[settings.menu-three].links %}
          <li class="mega-menu__list-item">
            <a class="mega-menu__list-link" href="{{ link.url }}">
              {{ link.title }}
            </a>
          </li>
    {% endfor %}
    </ul>

    <ul class="mega-menu__list">
    <li><h4 class="mega-menu__list-title">{{ linklists[settings.menu-four].title }}</h4></li>
    {% for link in linklists[settings.menu-four].links %}
          <li class="mega-menu__list-item">
            <a class="mega-menu__list-link" href="{{ link.url }}">
              {{ link.title }}
            </a>
          </li>
    {% endfor %}
    </ul>

    <div class="mega-menu__image-container">
        <img src="{{ settings.mega-menu-image | img_url: '244x' }}" />
        <button class="mega-menu__button">{{ settings.mega-menu-button }}</button>
    </div>  

    <button id="mega-menu-close" class="mega-menu__close">
      {% include 'icon-left-arrow' %}
    </button>

</div>

<script type="text/javascript">

$(document).ready(function() {

  const menu = $("#mega-menu"),
    close = $("#mega-menu-close"),
    overlay = $("#content-overlay"),
    activator = $("#mega-menu-activator");

  menu.hover(activateMegaMenu, deactivateMegaMenu);
  close.click(deactivateMegaMenu);
  activator.click(activateMegaMenu);
  activator.mouseenter(activateMegaMenu);

})

activateMegaMenu = function() {
    $("#mega-menu").addClass("active");
    $("#content-overlay").addClass("active");
}

deactivateMegaMenu = function() {
    $("#mega-menu").removeClass("active");
    $("#content-overlay").removeClass("active");
}

</script>